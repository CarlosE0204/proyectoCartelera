  <!-- Barra de menú principal -->

  <nav class="navbar">
    <div style="color: white;">
      <h1>
        <br>
        <button mat-button (click)="sidenav.toggle()"><img src="pmenu.jpg" width="50px"></button>
        <strong>Series y Peliculas
            <span class="user-info" *ngIf="usuario">Hola {{ usuario.nombre }}.</span>
        </strong>
      </h1>
    </div>
    <div class=""*ngIf="usuario">
        <button mat-button class="icono" [matMenuTriggerFor]="menu1">
            <img [src]="usuario.avatar" alt="Avatar" class="user-avatar" />
        </button>
        <mat-menu #menu1="matMenu" yPosition="above">
            <button mat-menu-item class="mat-menui" (click)="miPerfil()">Mi perfil</button>
            <button mat-menu-item class="mat-menui" (click)="salir()">Cerrar Sesión</button>
            <button mat-menu-item class="mat-menui" (click)="eliperf()">Eliminar mi perfil</button>
        </mat-menu>
    </div>
  </nav>

  <!-- Contenedor principal -->
  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav #sidenav mode="side" [(opened)]="dashboardOpen" class="dashboard-sidenav">
        <ul class="dashboard-buttons">
            <br>
            <li><button mat-button (click)="home()">Inicio</button></li>
            <li><button mat-button (click)="editperf();">Editar Perfil</button></li>
            <li><button mat-button>Agregar usuario</button></li>
            <li><button mat-button (click)="addpeli()">Agregar Película</button></li>
            <li><button mat-button (click)="salir();">Cerrar Sesión</button></li>
        </ul>
    </mat-sidenav>

    <!-- Contenido principal -->
    <div class="main-container">  
        <mat-card appearance="outlined" class="cuerpo">
            <mat-card-header>
                <mat-card-title id="titulo">Agregar usuario</mat-card-title>
                <mat-card-subtitle id="subtitulo">Asegurese de guardar los cambios de lo contrario no se aplicarán.</mat-card-subtitle>
            </mat-card-header>

            <mat-card-content>
                <form class="formulario">
                    <span class="espacio"></span>
                    <div class="row">
                        <mat-form-field appearance="outline" style="color: white;">
                            <mat-label>Nombre de usuario</mat-label>
                            <input matInput type="text" [(ngModel)]="this.nombre" [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                        <mat-error *ngIf="errnombre">El nombre no es válido</mat-error>
                    </div>
                    <div class="row">            
                        <mat-form-field appearance="outline">
                            <mat-label>Correo electrónico</mat-label>
                            <input matInput type="text" [(ngModel)]="this.correo" [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                        <mat-error *ngIf="errcorreo">Correo no valido</mat-error>
                        <mat-error *ngIf="errdup">Correo no valido</mat-error>
                    </div>
                    <div class="row">
                        <mat-form-field appearance="outline" class="full">
                            <mat-label>Contraseña</mat-label>
                            <input matInput type="password" [(ngModel)]="this.contra" [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                        <mat-error *ngIf="errcontra">Datos incorrectos</mat-error>
                    </div>
                    <div class="row">
                        <mat-form-field appearance="outline" class="full">
                            <mat-label>Confirmar Contraseña</mat-label>
                            <input matInput type="password" [(ngModel)]="this.ccontra" [ngModelOptions]="{standalone: true}">
                        </mat-form-field>
                        <mat-error *ngIf="errccontra">Datos incorrectos</mat-error>
                    </div>
                    <p>Deberá colocar la URL de la imagen.</p>
                    <div class="row">
                        <mat-form-field appearance="outline" class="full">
                            <mat-label>Foto de perfil</mat-label>
                            <textarea matInput rows="5" type="text" [(ngModel)]="this.avatar" [ngModelOptions]="{standalone: true}"></textarea>
                        </mat-form-field>
                        <mat-error *ngIf="errava">Campo vacío</mat-error>
                    </div>
                </form>
            </mat-card-content>

            <mat-card-actions>
                <button mat-button (click)="guardar()" id="aceptar">Guardar</button>
                <span class="espacio"></span>
                <button mat-button (click)="cancelar()" id="cancelar">Cancelar</button>
            </mat-card-actions>
        </mat-card>
    </div>
  </mat-sidenav-container>
